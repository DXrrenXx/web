<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>篮球班级对战查询</title>
  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background-color: #f9fafb;
      color: #374151;
    }

    header {
      background-color: #1e293b;
      color: white;
      padding: 1rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    main {
      max-width: 64rem;
      margin: auto;
      padding: 2rem 1rem;
    }

    .text-center {
      text-align: center;
    }

    h1 {
      font-size: 1.25rem;
      font-weight: bold;
    }

    h2 {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 0.5rem;
    }

    p {
      color: #4b5563;
    }

    .bg-white {
      background-color: white;
    }

    .rounded-lg {
      border-radius: 0.5rem;
    }

    .shadow-md {
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .p-6 {
      padding: 1.5rem;
    }

    .mb-8 {
      margin-bottom: 2rem;
    }

    .flex {
      display: flex;
    }

    .flex-wrap {
      flex-wrap: wrap;
    }

    .gap-2 {
      gap: 0.5rem;
    }

    button {
      padding: 0.5rem 0.75rem;
      font-size: 0.875rem;
      font-weight: 500;
      border: none;
      border-radius: 0.375rem;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }

    .week-btn.active {
      background-color: #2563eb;
      color: white;
    }

    .week-btn:not(.active) {
      background-color: #dbeafe;
      color: #1e40af;
    }

    .week-btn:hover:not(.active) {
      background-color: #bfdbfe;
    }

    .bg-gray-50 {
      background-color: #f9fafb;
    }

    .rounded-md {
      border-radius: 0.375rem;
    }

    .p-4 {
      padding: 1rem;
    }

    ul {
      list-style: none;
      padding-left: 0;
    }

    li {
      padding-bottom: 0.5rem;
      margin-bottom: 0.5rem;
      border-bottom: 1px solid #e5e7eb;
    }

    li:last-child {
      border-bottom: none;
    }

    .flex-between {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .text-sm {
      font-size: 0.875rem;
    }

    .text-xs {
      font-size: 0.75rem;
    }

    .px-2 {
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }

    .py-1 {
      padding-top: 0.25rem;
      padding-bottom: 0.25rem;
    }

    .bg-green-100 {
      background-color: #dcfce7;
    }

    .text-green-800 {
      color: #166534;
    }

    .bg-red-100 {
      background-color: #fee2e2;
    }

    .text-red-800 {
      color: #991b1b;
    }

    .bg-yellow-100 {
      background-color: #fef9c3;
    }

    .text-yellow-800 {
      color: #854d0e;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.875rem;
    }

    thead tr {
      background-color: #f9fafb;
    }

    tbody tr:nth-child(even) {
      background-color: #f9fafb;
    }

    .mt-6 {
      margin-top: 1.5rem;
    }

    .bg-blue-50 {
      background-color: #eff6ff;
    }

    footer {
      background-color: #f3f4f6;
      padding: 1.5rem 1rem;
      text-align: center;
      font-size: 0.875rem;
      color: #4b5563;
    }
  </style>
</head>
<body>
  <header>
    <div class="container mx-auto px-4 py-3">
      <h1>天津经济技术开发区第一中学</h1>
    </div>
  </header>

  <main>
    <div class="text-center mb-8">
      <h2>篮球班级对战查询</h2>
      <p>查看赛程安排与班级积分排行榜</p>
    </div>

    <!-- 赛程查询 -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <h3 class="text-lg font-semibold text-gray-800 mb-4">赛程查询</h3>

      <div class="flex flex-wrap gap-2 mb-6" id="week-buttons">
        <!-- 动态生成按钮 -->
      </div>

      <div class="bg-gray-50 rounded-md p-4">
        <h4 class="font-semibold text-gray-800 mb-3" id="current-week-title">第1周赛程</h4>
        <ul id="match-list">
          <!-- 动态生成比赛列表 -->
        </ul>
      </div>
    </div>

    <!-- 积分排行榜 -->
    <div class="bg-white rounded-lg shadow-md p-6">
      <h3 class="text-lg font-semibold text-gray-800 mb-4">班级积分排行榜</h3>

      <div class="overflow-x-auto">
        <table>
          <thead>
            <tr>
              <th>排名</th>
              <th>班级</th>
              <th>胜</th>
              <th>负</th>
              <th>弃赛</th>
              <th>总积分</th>
            </tr>
          </thead>
          <tbody id="leaderboard-body">
            <!-- 动态生成排行榜 -->
          </tbody>
        </table>
      </div>

      <div class="mt-6 bg-blue-50 rounded-md p-4">
        <h4 class="font-medium text-gray-800 mb-2">积分规则说明</h4>
        <ul class="text-sm text-gray-700 space-y-1">
          <li>• 胜利：+2分</li>
          <li>• 失败：+1分</li>
          <li>• 弃赛：+0分</li>
        </ul>
      </div>
    </div>
  </main>

  <footer>
    <p>© TFMS 篮球赛管理系统  Made by D_Xrren</p>
    <p class="mt-1">数据由管理员手动更新，每周三比赛后最晚周日更新比分</p>
  </footer>

  <script>
    // 硬编码赛程数据
    const scheduleData = [
      { week: 1, matches: ['5班 vs 6班', '7班 vs 8班'] },
      { week: 2, matches: ['5班 vs 7班', '6班 vs 8班'] },
      { week: 3, matches: ['5班 vs 8班', '6班 vs 7班'] },
      { week: 4, matches: ['1班 vs 2班', '3班 vs 4班'] },
      { week: 5, matches: ['1班 vs 3班', '2班 vs 4班'] },
      { week: 6, matches: ['1班 vs 4班', '2班 vs 3班'] },
      { week: 7, matches: ['12班 vs 13班'] },
      { week: 8, matches: ['12班 vs 14班'] },
      { week: 9, matches: ['13班 vs 14班'] },
      { week: 10, matches: ['9班 vs 10班'] },
      { week: 11, matches: ['9班 vs 11班'] },
      { week: 12, matches: ['10班 vs 11班'] }
    ];

    // 手动维护的比赛结果数据
    const matchResults = [
      { match: "5班 vs 6班", result: "未开始", score: "0:0" },
      { match: "7班 vs 8班", result: "未开始", score: "0:0" },
      { match: "5班 vs 7班", result: "未开始", score: "0:0" },
      { match: "6班 vs 8班", result: "未开始", score: "0:0" },
      { match: "5班 vs 8班", result: "未开始", score: "0:0" },
      { match: "6班 vs 7班", result: "未开始", score: "0:0" },
      { match: "1班 vs 2班", result: "未开始", score: "0:0" },
      { match: "3班 vs 4班", result: "未开始", score: "0:0" },
      { match: "1班 vs 3班", result: "未开始", score: "0:0" },
      { match: "2班 vs 4班", result: "未开始", score: "0:0" },
      { match: "1班 vs 4班", result: "未开始", score: "0:0" },
      { match: "2班 vs 3班", result: "未开始", score: "0:0" },
      { match: "12班 vs 13班", result: "未开始", score: "0:0" },
      { match: "12班 vs 14班", result: "未开始", score: "0:0" },
      { match: "13班 vs 14班", result: "未开始", score: "0:0" },
      { match: "9班 vs 10班", result: "未开始", score: "0:0" },
      { match: "9班 vs 11班", result: "未开始", score: "0:0" },
      { match: "10班 vs 11班", result: "未开始", score: "0:0" }
    ];

    let selectedWeek = 1;

    // 初始化班级统计数据
    const classStats = {};
    scheduleData.forEach(schedule => {
      schedule.matches.forEach(match => {
        const teams = match.split(' vs ');
        teams.forEach(team => {
          if (!classStats[team]) {
            classStats[team] = { wins: 0, losses: 0, forfeits: 0, points: 0 };
          }
        });
      });
    });

    matchResults.forEach(result => {
      const teams = result.match.split(' vs ');
      const team1 = teams[0];
      const team2 = teams[1];

      if (result.result === '胜') {
        classStats[team1].wins += 1;
        classStats[team1].points += 2;
        classStats[team2].losses += 1;
        classStats[team2].points += 1;
      } else if (result.result === '负') {
        classStats[team2].wins += 1;
        classStats[team2].points += 2;
        classStats[team1].losses += 1;
        classStats[team1].points += 1;
      } else if (result.result === '弃赛') {
        classStats[team1].forfeits += 1;
        classStats[team2].forfeits += 1;
      }
    });

    // 排序班级排行榜
    const sortedClasses = Object.entries(classStats)
      .map(([className, stats]) => ({ className, ...stats }))
      .sort((a, b) => b.points - a.points);

    // 渲染排行榜
    function renderLeaderboard() {
      const tbody = document.getElementById('leaderboard-body');
      tbody.innerHTML = '';
      sortedClasses.forEach((item, index) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${index + 1}</td>
          <td>${item.className}</td>
          <td>${item.wins}</td>
          <td>${item.losses}</td>
          <td>${item.forfeits}</td>
          <td>${item.points}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    // 渲染赛程按钮
    function renderWeekButtons() {
      const container = document.getElementById('week-buttons');
      container.innerHTML = '';
      scheduleData.forEach(schedule => {
        const btn = document.createElement('button');
        btn.className = 'week-btn';
        if (schedule.week === selectedWeek) {
          btn.classList.add('active');
        }
        btn.textContent = `第${schedule.week}周`;
        btn.onclick = () => {
          selectedWeek = schedule.week;
          renderWeekButtons();
          renderMatchList();
        };
        container.appendChild(btn);
      });
    }

    // 渲染当前周比赛列表
    function renderMatchList() {
      const title = document.getElementById('current-week-title');
      title.textContent = `第${selectedWeek}周赛程`;

      const list = document.getElementById('match-list');
      list.innerHTML = '';

      const currentWeekData = scheduleData.find(s => s.week === selectedWeek);
      if (!currentWeekData) return;

      currentWeekData.matches.forEach(match => {
        const result = matchResults.find(r => r.match === match);
        const li = document.createElement('li');
        li.classList.add('border-b', 'pb-2', 'last:border-b-0');

        const matchDiv = document.createElement('div');
        matchDiv.classList.add('flex-between');

        const matchSpan = document.createElement('span');
        matchSpan.textContent = match;
        matchDiv.appendChild(matchSpan);

        if (result) {
          const resultSpan = document.createElement('span');
          resultSpan.classList.add('text-xs', 'px-2', 'py-1', 'rounded');
          if (result.result === '胜') {
            resultSpan.classList.add('bg-green-100', 'text-green-800');
          } else if (result.result === '负') {
            resultSpan.classList.add('bg-red-100', 'text-red-800');
          } else {
            resultSpan.classList.add('bg-yellow-100', 'text-yellow-800');
          }
          resultSpan.textContent = result.result;
          matchDiv.appendChild(resultSpan);
        }

        li.appendChild(matchDiv);

        if (result) {
          const scoreDiv = document.createElement('div');
          scoreDiv.classList.add('text-sm', 'text-gray-500', 'mt-1');
          scoreDiv.textContent = `比分: ${result.score}`;
          li.appendChild(scoreDiv);
        }

        list.appendChild(li);
      });
    }

    // 初始渲染
    renderLeaderboard();
    renderWeekButtons();
    renderMatchList();
  </script>
</body>
</html>